"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,l=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){a=!0,l=e}finally{try{r||null==o.return||o.return()}finally{if(a)throw l}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}!function(){var c=wp.i18n.__,s=document.getElementById("social-planner-settings");if(null!==s&&"undefined"!=typeof socialPlannerSettings){var p=socialPlannerSettings,d=function(e,t,n,r){var a=document.createElement("div");a.classList.add("social-planner-provider"),e.insertBefore(a,e.lastChild),r&&a.classList.add("collapsed"),r=r||[],e.classList.add("updated");var l=p.labels[t]||"",e=document.createElement("div");e.classList.add("social-planner-heading"),e.textContent=l+" "+c("settings","social-planner"),a.appendChild(e);l=document.createElement("span");e.appendChild(l),r.title&&(l.textContent=": "+r.title),e.addEventListener("click",function(e){e.preventDefault(),a.classList.toggle("collapsed")});e=document.createElement("div");e.classList.add("social-planner-helper"),p.helpers=p.helpers||[],p.helpers.hasOwnProperty(t)&&(e.innerHTML=p.helpers[t],a.appendChild(e)),p.fields||(p.fields=[]);var i,o=p.fields[t]||[];for(i in o){var s=function(e,t){var n=document.createElement("div");n.classList.add("social-planner-field"),t.appendChild(n);t=document.createElement("strong");t.textContent=e.label,n.appendChild(t);t=document.createElement("input");t.setAttribute("type","text"),n.appendChild(t),e.placeholder&&t.setAttribute("placeholder",e.placeholder);t=document.createElement("small");return n.appendChild(t),e.hint&&(t.innerHTML=e.hint),n}(o[i],a).querySelector("input"),d="["+t+"-"+n+"]["+i+"]";s.setAttribute("name",p.option+d),r.hasOwnProperty(i)&&(s.value=r[i])}e=document.createElement("button");e.classList.add("social-planner-remover"),e.setAttribute("type","button"),e.textContent=c("Delete provider","social-planner"),a.appendChild(e),e.addEventListener("click",function(e){e.preventDefault(),u(a)})},u=function(e){e.remove()};(function(){var e,t,n,r=s.querySelector(".social-planner-providers");if(!p.option||!p.labels){var a=c("Providers settings are not formatted correctly","social-planner");return t=r,e=a,(a=document.createElement("p")).classList.add("social-planner-warning"),a.textContent=e,t.appendChild(a)}for(n in!function(t){var e=document.createElement("div");e.classList.add("social-planner-addnew"),t.appendChild(e);var n,r=document.createElement("select");for(n in e.appendChild(r),p.labels){var a=document.createElement("option");a.textContent=p.labels[n],a.value=n,r.appendChild(a)}var l=document.createElement("button");l.classList.add("button"),l.setAttribute("type","button"),l.textContent=c("Add provider","social-planner"),e.appendChild(l),l.addEventListener("click",function(e){e.preventDefault();e=(new Date).getTime().toString(16);d(t,r.value,e)})}(r),t=r,(a=document.createElement("button")).classList.add("social-planner-submit","button","button-primary"),a.setAttribute("type","submit"),a.textContent=c("Save changes","social-planner"),t.appendChild(a),p.providers){var l,i,o=n.match(/(.+)-(\w+)$/)||[];o.length<3||(l=p.providers[n],o=(i=_slicedToArray(o,3))[1],i=i[2],d(r,o,i,l))}})()}}();